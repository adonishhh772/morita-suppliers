<app-header></app-header>
<div class="login-section">
  <div class="login-form">
    <h1>Login to Morita Suppliers</h1>

    <div class="login_form_field col-md-6">
      <form [formGroup]="loginForm" class="col-md-12" (ngSubmit)="login()">
      <div class="col-md-12">
        <mat-form-field class="login-field col-md-8" appearance="outline">
          <mat-label>Enter your Email</mat-label>
          <input matInput formControlName="email" type="email">
          <mat-hint class="mat-error" align="start" *ngIf="isSubmitted &&errorControl.email.errors?.required">
            Email is required.</mat-hint>
        <mat-hint class="mat-error" align="start" *ngIf="isSubmitted &&errorControl.email.errors?.pattern">
            Please provide valid email id.</mat-hint>
        </mat-form-field>
      </div>
      <div class="col-md-12 left-pass">
        <mat-form-field class="login-field col-md-8" appearance="outline">
          <mat-label>Enter your password</mat-label>
          <input matInput formControlName="password" #password maxlength="8"  [type]="hidePass ? 'password' : 'text'">
          <button mat-icon-button matSuffix (click)="toggleVisibility($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePass">
            <mat-icon>{{hidePass ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-hint class="mat-error" align="start" *ngIf="isSubmitted &&errorControl.password.errors?.required">
            Password is required.</mat-hint>
        <mat-hint align="start" class="mat-error" *ngIf="isSubmitted && errorControl.password.errors?.minlength">Max 8 characters</mat-hint>

        </mat-form-field>
        <button mat-icon-button (click)="openDialog($event)" aria-label="Help Outline">
          <mat-icon>help_outline</mat-icon>
        </button>
      </div>
      <button *ngIf="!isValidated || !isSubmitted" [disabled]="!loginForm.valid" mat-raised-button class="login_button">Login</button>

      <div class="col-md-2 middle" *ngIf="isValidated && isSubmitted">
        <mat-spinner class="mat_form_spinner" [diameter]="50"></mat-spinner>
      </div>
      </form>
      <p [routerLink]="['/register']" class="register_link">Activate your Account</p>
    </div>
  </div>
</div>


